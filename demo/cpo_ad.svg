<svg viewBox="0 0 1600 2000" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .title { font-family: 'Arial', sans-serif; font-size: 48px; font-weight: bold; fill: #1e293b; }
      .subtitle { font-family: 'Arial', sans-serif; font-size: 24px; fill: #475569; }
      .agent-title { font-family: 'Arial', sans-serif; font-size: 28px; font-weight: bold; fill: #ffffff; }
      .agent-text { font-family: 'Arial', sans-serif; font-size: 18px; fill: #ffffff; }
      .label { font-family: 'Arial', sans-serif; font-size: 16px; fill: #334155; }
      .metric { font-family: 'Arial', sans-serif; font-size: 14px; fill: #64748b; }
      .azure-badge { font-family: 'Arial', sans-serif; font-size: 14px; font-weight: bold; fill: #ffffff; }
      .innovation { font-family: 'Arial', sans-serif; font-size: 16px; font-weight: bold; fill: #0f172a; }
      .number { font-family: 'Arial', sans-serif; font-size: 36px; font-weight: bold; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#64748b" />
    </marker>
    
    <!-- Gradients -->
    <linearGradient id="grad-blue" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-purple" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-green" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-red" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="grad-indigo" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="1600" height="2000" fill="#f8fafc"/>
  
  <!-- Title Section -->
  <text x="800" y="70" text-anchor="middle" class="title">Customer Personalization Orchestrator</text>
  <text x="800" y="110" text-anchor="middle" class="subtitle">5-Agent Architecture with Azure AI Services Integration</text>
  
  <!-- Input: Customer Data -->
  <rect x="600" y="160" width="400" height="80" rx="10" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
  <text x="800" y="195" text-anchor="middle" class="label" font-weight="bold">üìä Customer Data</text>
  <text x="800" y="220" text-anchor="middle" class="metric">250 records ‚Ä¢ Demographics + Behavioral features</text>
  
  <!-- Arrow down -->
  <line x1="800" y1="240" x2="800" y2="280" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Agent 1: Segmentation -->
  <g id="agent1">
    <!-- Main box -->
    <rect x="100" y="290" width="1400" height="140" rx="15" fill="url(#grad-blue)" stroke="#1e40af" stroke-width="3"/>
    
    <!-- Number badge -->
    <circle cx="150" cy="340" r="35" fill="#1e40af"/>
    <text x="150" y="355" text-anchor="middle" class="number" fill="white">1</text>
    
    <!-- Content -->
    <text x="220" y="330" class="agent-title">Segmentation Agent</text>
    <text x="220" y="360" class="agent-text">Groups customers into meaningful cohorts using RFM analysis</text>
    <text x="220" y="390" class="agent-text">‚Ä¢ Algorithm: Rule-based RFM (Recency, Frequency, Monetary)</text>
    
    <!-- Metrics box -->
    <rect x="1050" y="310" width="400" height="100" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1070" y="335" class="agent-text" font-weight="bold">Input ‚Üí Output</text>
    <text x="1070" y="360" class="agent-text">250 customers ‚Üí 3 segments</text>
    <text x="1070" y="385" class="agent-text">‚Ä¢ High-Value Recent: 84 (33.9%)</text>
    <text x="1070" y="405" class="agent-text">‚Ä¢ Standard: 144 (58.1%)</text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="430" x2="800" y2="470" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="820" y="455" class="metric">Segment features</text>
  
  <!-- Agent 2: Retrieval -->
  <g id="agent2">
    <rect x="100" y="480" width="1400" height="140" rx="15" fill="url(#grad-purple)" stroke="#7e22ce" stroke-width="3"/>
    
    <circle cx="150" cy="530" r="35" fill="#7e22ce"/>
    <text x="150" y="545" text-anchor="middle" class="number" fill="white">2</text>
    
    <text x="220" y="520" class="agent-title">Retrieval Agent</text>
    <text x="220" y="550" class="agent-text">Semantic search for relevant approved content</text>
    <text x="220" y="580" class="agent-text">‚Ä¢ Azure AI Search with 25 indexed documents ‚Ä¢ Relevance threshold >0.5</text>
    
    <!-- Azure badge -->
    <rect x="220" y="590" width="180" height="25" rx="12" fill="#0078D4"/>
    <text x="310" y="608" text-anchor="middle" class="azure-badge">Azure AI Search</text>
    
    <!-- Metrics -->
    <rect x="1050" y="500" width="400" height="100" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1070" y="525" class="agent-text" font-weight="bold">Performance</text>
    <text x="1070" y="550" class="agent-text">14 content snippets retrieved</text>
    <text x="1070" y="575" class="agent-text">88.9% relevance rate</text>
    <text x="1070" y="595" class="agent-text">Avg relevance score: 0.78</text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="620" x2="800" y2="660" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="820" y="645" class="metric">Content + segment data</text>
  
  <!-- Agent 3: Generation -->
  <g id="agent3">
    <rect x="100" y="670" width="1400" height="140" rx="15" fill="url(#grad-green)" stroke="#047857" stroke-width="3"/>
    
    <circle cx="150" cy="720" r="35" fill="#047857"/>
    <text x="150" y="735" text-anchor="middle" class="number" fill="white">3</text>
    
    <text x="220" y="710" class="agent-title">Generation Agent</text>
    <text x="220" y="740" class="agent-text">Creates personalized message variants with proper citations</text>
    <text x="220" y="770" class="agent-text">‚Ä¢ 3 tone variants: Urgent, Informational, Friendly ‚Ä¢ Citation extraction via regex</text>
    
    <rect x="220" y="780" width="240" height="25" rx="12" fill="#0078D4"/>
    <text x="340" y="798" text-anchor="middle" class="azure-badge">Azure OpenAI (gpt-4o-mini)</text>
    
    <rect x="1050" y="690" width="400" height="100" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1070" y="715" class="agent-text" font-weight="bold">Generation Results</text>
    <text x="1070" y="740" class="agent-text">9 variants (3 per segment)</text>
    <text x="1070" y="765" class="agent-text">3.0 avg citations per variant</text>
    <text x="1070" y="785" class="agent-text">Cost: $0.0027 total</text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="810" x2="800" y2="850" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="820" y="835" class="metric">All generated variants</text>
  
  <!-- Agent 4: Safety (HIGHLIGHTED) -->
  <g id="agent4">
    <!-- Highlight glow -->
    <rect x="95" y="855" width="1410" height="150" rx="15" fill="none" stroke="#fbbf24" stroke-width="6" opacity="0.5"/>
    
    <rect x="100" y="860" width="1400" height="140" rx="15" fill="url(#grad-red)" stroke="#b91c1c" stroke-width="3"/>
    
    <circle cx="150" cy="910" r="35" fill="#b91c1c"/>
    <text x="150" y="925" text-anchor="middle" class="number" fill="white">4</text>
    
    <text x="220" y="900" class="agent-title">Safety Agent üõ°Ô∏è</text>
    <text x="220" y="930" class="agent-text">Mandatory safety screening with fail-closed behavior</text>
    <text x="220" y="960" class="agent-text">‚Ä¢ Screens: Hate, Violence, Self-Harm, Sexual content ‚Ä¢ Threshold: Medium (>4)</text>
    
    <rect x="220" y="970" width="220" height="25" rx="12" fill="#0078D4"/>
    <text x="330" y="988" text-anchor="middle" class="azure-badge">Azure Content Safety</text>
    
    <!-- RESPONSIBLE AI badge -->
    <rect x="1350" y="870" width="130" height="30" rx="15" fill="#fbbf24"/>
    <text x="1415" y="892" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #78350f;">‚≠ê KEY INNOVATION</text>
    
    <rect x="1050" y="880" width="400" height="100" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1070" y="905" class="agent-text" font-weight="bold">Safety Results</text>
    <text x="1070" y="930" class="agent-text">9/9 variants approved (100%)</text>
    <text x="1070" y="955" class="agent-text">0 hate, 0 violence violations</text>
    <text x="1070" y="975" class="agent-text">Complete CSV audit trail</text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="1000" x2="800" y2="1040" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="820" y="1025" class="metric">Approved variants only</text>
  
  <!-- Agent 5: Experimentation -->
  <g id="agent5">
    <rect x="100" y="1050" width="1400" height="140" rx="15" fill="url(#grad-indigo)" stroke="#4338ca" stroke-width="3"/>
    
    <circle cx="150" cy="1100" r="35" fill="#4338ca"/>
    <text x="150" y="1115" text-anchor="middle" class="number" fill="white">5</text>
    
    <text x="220" y="1090" class="agent-title">Experimentation Agent</text>
    <text x="220" y="1120" class="agent-text">A/B/n testing with statistical analysis and lift measurement</text>
    <text x="220" y="1150" class="agent-text">‚Ä¢ 4 arms (3 treatment + 1 control) ‚Ä¢ Stratified random assignment ‚Ä¢ Chi-square tests</text>
    
    <rect x="1050" y="1070" width="400" height="100" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
    <text x="1070" y="1095" class="agent-text" font-weight="bold">Experiment Results</text>
    <text x="1070" y="1120" class="agent-text">Treatment 3: 38.7% open rate</text>
    <text x="1070" y="1145" class="agent-text">Control: 30.6% baseline</text>
    <text x="1070" y="1165" class="agent-text">248/250 processed (99.2%)</text>
  </g>
  
  <!-- Arrow down -->
  <line x1="800" y1="1190" x2="800" y2="1230" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Output: Results -->
  <rect x="500" y="1240" width="600" height="100" rx="15" fill="#10b981" stroke="#047857" stroke-width="3"/>
  <text x="800" y="1275" text-anchor="middle" style="font-family: Arial; font-size: 36px; font-weight: bold; fill: white;">‚úì Pipeline Complete</text>
  <text x="800" y="1310" text-anchor="middle" style="font-family: Arial; font-size: 24px; fill: white;">System Performance Validated</text>
  <text x="800" y="1335" text-anchor="middle" style="font-family: Arial; font-size: 18px; fill: rgba(255,255,255,0.9);">248 customers ‚Ä¢ 53 seconds ‚Ä¢ $0.01/customer</text>
  
  <!-- Innovation Highlights Section -->
  <text x="800" y="1420" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #1e293b;">Key Innovations</text>
  
  <g id="innovations">
    <!-- Innovation 1 -->
    <rect x="80" y="1450" width="450" height="140" rx="12" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
    <text x="100" y="1480" class="innovation" fill="#1e40af">üéØ Citation-Grounded Generation</text>
    <text x="100" y="1510" style="font-family: Arial; font-size: 15px; fill: #334155;">Every message cites approved sources.</text>
    <text x="100" y="1535" style="font-family: Arial; font-size: 15px; fill: #334155;">Eliminates off-brand risks while</text>
    <text x="100" y="1560" style="font-family: Arial; font-size: 15px; fill: #334155;">maintaining AI creativity.</text>
    <text x="100" y="1580" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #1e40af;">‚Üí 100% brand consistency</text>
    
    <!-- Innovation 2 -->
    <rect x="575" y="1450" width="450" height="140" rx="12" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
    <text x="595" y="1480" class="innovation" fill="#991b1b">üõ°Ô∏è Fail-Closed Safety</text>
    <text x="595" y="1510" style="font-family: Arial; font-size: 15px; fill: #334155;">100% screening coverage with</text>
    <text x="595" y="1535" style="font-family: Arial; font-size: 15px; fill: #334155;">complete audit trail. API failures</text>
    <text x="595" y="1560" style="font-family: Arial; font-size: 15px; fill: #334155;">block content, never allow through.</text>
    <text x="595" y="1580" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #991b1b;">‚Üí Enterprise compliance</text>
    
    <!-- Innovation 3 -->
    <rect x="1070" y="1450" width="450" height="140" rx="12" fill="#e0e7ff" stroke="#6366f1" stroke-width="2"/>
    <text x="1090" y="1480" class="innovation" fill="#3730a3">üìä Built-in Experimentation</text>
    <text x="1090" y="1510" style="font-family: Arial; font-size: 15px; fill: #334155;">A/B/n testing with statistical</text>
    <text x="1090" y="1535" style="font-family: Arial; font-size: 15px; fill: #334155;">framework for continuous</text>
    <text x="1090" y="1560" style="font-family: Arial; font-size: 15px; fill: #334155;">optimization. No separate tools.</text>
    <text x="1090" y="1580" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #3730a3;">‚Üí Measurement capability</text>
  </g>
  
  <!-- Azure Services Summary -->
  <text x="800" y="1660" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #1e293b;">Azure AI Services Integration</text>
  
  <g id="azure-services">
    <rect x="200" y="1690" width="350" height="80" rx="10" fill="#0078D4" stroke="#004E89" stroke-width="2"/>
    <text x="375" y="1720" text-anchor="middle" style="font-family: Arial; font-size: 22px; font-weight: bold; fill: white;">Azure OpenAI</text>
    <text x="375" y="1750" text-anchor="middle" style="font-family: Arial; font-size: 16px; fill: rgba(255,255,255,0.9);">gpt-4o-mini ‚Ä¢ $0.15/1M tokens</text>
    <text x="375" y="1768" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: rgba(255,255,255,0.8);">Cost-optimized deployment</text>
    
    <rect x="625" y="1690" width="350" height="80" rx="10" fill="#0078D4" stroke="#004E89" stroke-width="2"/>
    <text x="800" y="1720" text-anchor="middle" style="font-family: Arial; font-size: 22px; font-weight: bold; fill: white;">Azure AI Search</text>
    <text x="800" y="1750" text-anchor="middle" style="font-family: Arial; font-size: 16px; fill: rgba(255,255,255,0.9);">Semantic search ‚Ä¢ 25 documents</text>
    <text x="800" y="1768" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: rgba(255,255,255,0.8);">88.9% relevance rate</text>
    
    <rect x="1050" y="1690" width="350" height="80" rx="10" fill="#0078D4" stroke="#004E89" stroke-width="2"/>
    <text x="1225" y="1720" text-anchor="middle" style="font-family: Arial; font-size: 22px; font-weight: bold; fill: white;">Azure Content Safety</text>
    <text x="1225" y="1750" text-anchor="middle" style="font-family: Arial; font-size: 16px; fill: rgba(255,255,255,0.9);">Policy enforcement ‚Ä¢ 4 categories</text>
    <text x="1225" y="1768" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: rgba(255,255,255,0.8);">100% pass rate achieved</text>
  </g>
  
  <!-- Performance Metrics Bar -->
  <rect x="100" y="1820" width="1400" height="100" rx="12" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="2"/>
  <text x="800" y="1855" text-anchor="middle" style="font-family: Arial; font-size: 24px; font-weight: bold; fill: #1e293b;">System Performance Metrics</text>
  
  <text x="250" y="1895" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #10b981;">38.7%</text>
  <text x="250" y="1915" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: #64748b;">Best Treatment Rate</text>
  
  <text x="550" y="1895" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #3b82f6;">280/min</text>
  <text x="550" y="1915" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: #64748b;">Processing Speed</text>
  
  <text x="850" y="1895" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #ef4444;">100%</text>
  <text x="850" y="1915" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: #64748b;">Safety Pass Rate</text>
  
  <text x="1150" y="1895" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #f59e0b;">$0.01</text>
  <text x="1150" y="1915" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: #64748b;">Cost per Customer</text>
  
  <text x="1350" y="1895" text-anchor="middle" style="font-family: Arial; font-size: 32px; font-weight: bold; fill: #6366f1;">85%</text>
  <text x="1350" y="1915" text-anchor="middle" style="font-family: Arial; font-size: 14px; fill: #64748b;">Test Coverage</text>
  
  <!-- Footer -->
  <text x="800" y="1970" text-anchor="middle" style="font-family: Arial; font-size: 16px; fill: #94a3b8;">Customer Personalization Orchestrator ‚Ä¢ November 2025 ‚Ä¢ Azure AI Competition</text>
</svg>